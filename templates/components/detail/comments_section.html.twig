<section class="mt-9">
    <div class="max-w-3xl mx-auto">
        <h2 class="text-lg font-medium text-black">Les <span class="font-bold text-red-600">commentaires</span></h2>
        <ul class="space-y-4">
        {% for comment in media.comments %}
            {% if comment.parentComment %}
                <li class="mt-9 pl-9 border-l-4 {% if comment.statusEnum.value == 'pending' %}relative cursor-not-allowed {% endif %}">
                    {% if comment.statusEnum.value == 'pending' %} 
                        <span class="absolute top-2 right-2 px-3 py-1 bg-orange-100 rounded-md">En attente de vérification</span>
                    {% endif %}
                    <div class="bg-gray-100 p-4 rounded-lg">
                        <div class="flex items-center">
                            <img src="https://random.imagecdn.app/100/100?b" class="w-10 h-10 rounded-full" alt="">
                            <div class="ml-4 w-full">
                                <span class="font-medium">{{ comment.userComment.username }}</span>
                                <span class="text-xs text-gray-500 flex items-center justify-between w-full">
                                <span>Il y a 4 heures</span>
                                <span></span>
                            </span>
                            </div>
                        </div>
                        <p class="mt-4 w-full">{{ comment.content }}</p>
                    </div>
                </li>
            {% else %}
            <li class="mt-9">
                <div class="bg-gray-100 p-4 rounded-lg {% if comment.statusEnum.value == 'pending' %}relative cursor-not-allowed opacity-40{% endif %}">
                    {% if comment.statusEnum.value == 'pending' %}
                        <span class="absolute top-2 right-2 px-3 py-1 bg-orange-100 rounded-md">En attente de vérification</span>
                    {% endif %}
                    <div class="flex items-center">
                        <img src="https://random.imagecdn.app/100/100?a" class="w-10 h-10 rounded-full" alt="">
                        <div class="ml-4 w-full">
                            <span class="font-medium">{{ comment.userComment.username }}</span>
                            <span class="text-xs text-gray-500 flex items-center justify-between w-full">
                            <span>Il y a 2 jours</span>
                            <span></span>
                        </span>
                        </div>
                    </div>
                    <p class="mt-4 w-full">{{ comment.content }}</p>
                </div>
            </li>
            {% endif %}
        {% endfor %}
        </ul>
        <form class="mt-9 bg-gray-100 p-4 rounded-lg">
            <h3 class="text-center text-md font-bold my-4">Réagir / commenter le film ?</h3>
            <div class="relative">
                <textarea rows="5" class="w-full px-8 py-4 rounded-lg font-medium bg-white border border-gray-200 placeholder-gray-500 text-sm focus:outline-none focus:border-gray-400 focus:bg-white" placeholder="Votre commentaire"></textarea>
            </div>
            <div class="flex items-center justify-center mt-2">
                <button class="relative flex bg-red-600 flex-row p-2 items-center justify-center rounded-md text-sm overflow-hidden border cursor-pointer transition text-white hover:opacity-90 hover:scale-105">
                    <svg class="fill-current h-4 w-4 mr-2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>plus-circle</title><path d="M17,13H13V17H11V13H7V11H11V7H13V11H17M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z" /></svg>
                    Ajouter le commentaire
                </button>
            </div>
            <div>
                <span class="opacity-50 text-xs italic mt-4 block">* Votre commentaire sera publié et visible par tous après avoir été analysé par notre système.</span>
            </div>
        </form>
    </div>
</section>